<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kado Ulang Tahun</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .fade {
      animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95) translateY(20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .slide {
      min-height: 100vh;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 1rem;
      text-align: center;
    }
    .slide-center {
      justify-content: center;
    }
    .typewriter-text {
      line-height: 1.6;
      word-break: break-word;
    }
    .heart-glow {
      filter: drop-shadow(0 0 10px rgba(255, 0, 150, 0.5));
    }
    .photo-img {
      max-width: 70%;
      height: 200px;
      margin-bottom: 0.8rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
    button {
      margin-top: 0.5rem;
    }
    #loveCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }
    #slides {
      position: relative;
      z-index: 1;
      width: 100%;
      height: 100vh;
    }
    /* Border untuk teks slide 1 */
    #slide1 h1, #slide1 p {
      background: rgba(255,255,255,0.7);
      border: 2px solid rgba(255, 105, 180, 0.7);
      border-radius: 1rem;
      padding: 0.4rem 0.8rem;
      display: inline-block;
    }
    /* Background putih solid di GIF slide 5 */
    .cake-container {
      background-color: #fff;
      padding: 1rem;
      border-radius: 1.5rem;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>

<body class="flex items-center justify-center bg-gradient-to-br from-pink-100 via-purple-100 to-yellow-50">

  <canvas id="loveCanvas"></canvas>
  <audio id="bgMusic" src="laguweb.mp3" preload="auto"></audio>

  <div id="slides" class="w-full h-screen flex flex-col items-center justify-center">

    <!-- SLIDE 1 -->
    <div class="slide slide-center fade" id="slide1">
      <h1 class="text-2xl sm:text-3xl font-bold text-pink-600 heart-glow mb-2">Hii pacarrkuu 💖</h1>
      <p class="text-lg sm:text-xl text-gray-700">aku punya sesuatuu nihh 🎁</p>
      <p class="text-lg sm:text-xl text-gray-700 mb-2">penasarannn gakk? 😆</p>
      <button onclick="nextSlide()"
        class="px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-2xl shadow-lg hover:shadow-xl hover:from-pink-600 hover:to-purple-600 transition-all duration-300 text-base font-semibold transform hover:scale-105">
        Coba buka ➡️
      </button>
    </div>

    <!-- SLIDE 2 -->
    <div class="slide hidden" id="slide2">
      <img src="and1.jpg" alt="Foto Pacar" class="rounded-3xl border-4 border-pink-400 photo-img heart-glow"/>
      <p id="text2" class="text-lg sm:text-xl font-semibold text-pink-700 typewriter-text leading-relaxed"></p>
      <button id="btn2" onclick="nextSlide()" class="hidden px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold transform hover:scale-105">
        Lanjutin yaa ➡️
      </button>
    </div>

    <!-- SLIDE 3 -->
    <div class="slide hidden" id="slide3">
      <img src="and3.jpg" alt="Foto Pacar" class="rounded-3xl border-4 border-purple-400 photo-img heart-glow"/>
      <p id="text3" class="text-lg sm:text-xl font-semibold text-purple-700 typewriter-text leading-relaxed"></p>
      <button id="btn3" onclick="nextSlide()" class="hidden px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold transform hover:scale-105">
        Lanjut lagi yaaa ➡️
      </button>
    </div>

    <!-- SLIDE 4 -->
    <div class="slide hidden" id="slide4">
      <img src="and2.jpg" alt="Foto Pacar" class="rounded-3xl border-4 border-pink-400 photo-img heart-glow"/>
      <p id="text4" class="text-lg sm:text-xl font-semibold text-pink-700 typewriter-text leading-relaxed"></p>
      <button id="btn4" onclick="nextSlide()" class="hidden px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold transform hover:scale-105">
        Terakhir nihh 🎉
      </button>
    </div>

    <!-- SLIDE 5 -->
    <div class="slide hidden" id="slide5">
      <div class="cake-container">
        <img src="birthday-6_256.gif" alt="Birthday Cake" class="rounded-2xl w-56 sm:w-64 md:w-72 cursor-pointer heart-glow transform hover:scale-105 transition-transform duration-300"
          onclick="stopMusic(); nextSlide();"/>
      </div>
      <p id="text5" class="text-xl sm:text-2xl font-bold text-pink-700 typewriter-text leading-relaxed mt-3"></p>
      <p class="text-sm text-gray-500 italic">Klik kue nya sayanggg 🍰</p>
    </div>

    <!-- SLIDE 6 -->
    <div class="slide hidden bg-gradient-to-br from-black via-purple-900 to-pink-900 relative overflow-hidden" id="slide6">
      <div class="relative z-20 text-center text-white fade space-y-4">
        <h1 class="text-3xl sm:text-4xl font-bold heart-glow">Selamat Ulang Tahun, Cintaku! 💖🎉</h1>
        <p class="text-lg sm:text-xl max-w-md mx-auto">semogaa kamuu jadii anakk yang bahagiaa teruss jangann banyakk sedih" nyaa 😁, tetapp ceriaaa dann semangatt sukses untuk kedepannya 💪, semogaa citaa citaa kamuu yang kamuuu impi impikann akan terkabulkann esokk 👩‍⚕️. aminnnn 🤲</p>
      </div>
    </div>

  </div>

  <script>
    let currentSlide = 1;
    const totalSlides = 6;
    const music = document.getElementById("bgMusic");

    music.addEventListener("ended", () => {
      if (currentSlide < 5) {
        music.currentTime = 0;
        music.play();
      }
    });

    function playMusic() {
      music.volume = 1;
      music.play().catch(() => {});
    }

    function stopMusic() {
      let fade = setInterval(() => {
        if (music.volume > 0.05) {
          music.volume -= 0.05;
        } else {
          clearInterval(fade);
          music.pause();
          music.currentTime = 0;
          music.volume = 1;
        }
      }, 100);
    }

    function showSlide(n) {
      document.querySelectorAll(".slide").forEach((slide, index) => {
        slide.classList.add("hidden");
        slide.classList.remove("slide-center");
        if (index === n - 1) {
          slide.classList.remove("hidden");
          if (n === 1) slide.classList.add("slide-center");
          setTimeout(() => slide.classList.add("fade"), 100);
        }
      });
    }

    function nextSlide() {
      if (currentSlide < totalSlides) {
        currentSlide++;
        showSlide(currentSlide);
        if (currentSlide === 2) { playMusic(); i2 = 0; typeWriter2(); }
        if (currentSlide === 3) { i3 = 0; typeWriter3(); }
        if (currentSlide === 4) { i4 = 0; typeWriter4(); }
        if (currentSlide === 5) { i5 = 0; typeWriter5(); }
        if (currentSlide === 6) { startHeartParticles(); }
      }
    }

    const text2 = "Inii pacarr akuu, yang selalu menemani aku apapun kondisinya, aku sangat bersyukur bisa bersamanya walau pun aku sering buat dia marah, tapi dengan hatii kecilnya dia tetap akan memaafkanku.";
    const text3 = "Lihat inii... lucuu bangettt sihh pacarrr kuu, selainn ituu wajah nya yang maniss dan cantikk menjadii alasanku untuk ingin selalu bersama kamuu.";
    const text4 = "Tapi tahu nggak sayang? kalau bolehh jujurr, kamuu satu satuunya tempatt untukk aku pulangg, ceritaa, dan melepass kelelahan selamaa satuu harii ituu, karenaa ketikaa aku berinteraksi sama kamuu hatikuu jadi tenangg dan senang rasanya.";
    const text5 = "Selamat ulang tahun cintakuu, cantikkuuuu🎂💖...";
    let i2=0,i3=0,i4=0,i5=0;

    function typeWriter2(){const p=document.getElementById("text2");const btn=document.getElementById("btn2");if(i2===0)p.innerHTML="";if(i2<text2.length){p.innerHTML+=text2.charAt(i2++);setTimeout(typeWriter2,50);}else btn.classList.remove("hidden");}
    function typeWriter3(){const p=document.getElementById("text3");const btn=document.getElementById("btn3");if(i3===0)p.innerHTML="";if(i3<text3.length){p.innerHTML+=text3.charAt(i3++);setTimeout(typeWriter3,50);}else btn.classList.remove("hidden");}
    function typeWriter4(){const p=document.getElementById("text4");const btn=document.getElementById("btn4");if(i4===0)p.innerHTML="";if(i4<text4.length){p.innerHTML+=text4.charAt(i4++);setTimeout(typeWriter4,50);}else btn.classList.remove("hidden");}
    function typeWriter5(){const p=document.getElementById("text5");if(i5===0)p.innerHTML="";if(i5<text5.length){p.innerHTML+=text5.charAt(i5++);setTimeout(typeWriter5,50);}}

    // Animasi love
    const canvas=document.getElementById("loveCanvas");
    const ctx=canvas.getContext("2d");
    let hearts=[];

    function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
    window.addEventListener("resize",resizeCanvas);
    resizeCanvas();

    function drawHeart(x,y,size,color){ctx.save();ctx.translate(x,y);ctx.scale(size/20,size/20);ctx.beginPath();ctx.moveTo(0,0);ctx.bezierCurveTo(-10,-10,-20,10,0,20);ctx.bezierCurveTo(20,10,10,-10,0,0);ctx.fillStyle=color;ctx.fill();ctx.restore();}

    function initHearts(){hearts=[];for(let i=0;i<60;i++){hearts.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height-canvas.height,size:10+Math.random()*25,speed:0.5+Math.random()*2,color:`rgba(255,${Math.floor(100+Math.random()*155)},150,0.6)`});}}
    function animateHearts(){ctx.clearRect(0,0,canvas.width,canvas.height);hearts.forEach(h=>{drawHeart(h.x,h.y,h.size,h.color);h.y+=h.speed;if(h.y>canvas.height+h.size){h.y=-h.size;h.x=Math.random()*canvas.width;}h.x+=(Math.random()-0.5)*2;});requestAnimationFrame(animateHearts);}
    initHearts();animateHearts();

    function startHeartParticles(){const canvas=document.createElement("canvas");canvas.id="heartParticles";canvas.style.position="fixed";canvas.style.top="0";canvas.style.left="0";canvas.style.width="100%";canvas.style.height="100%";canvas.style.zIndex="10";canvas.style.pointerEvents="none";canvas.style.opacity="0";canvas.style.transition="opacity 1.5s ease";document.body.appendChild(canvas);setTimeout(()=>{canvas.style.opacity="1";},100);const ctx=canvas.getContext("2d");const hearts=[];const maxHearts=40;function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}resizeCanvas();window.addEventListener("resize",resizeCanvas);class Heart{constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*-20;this.size=Math.random()*8+3;this.speed=Math.random()*1+0.5;this.alpha=1;}draw(){ctx.save();ctx.translate(this.x,this.y);ctx.beginPath();ctx.moveTo(0,this.size/2);ctx.bezierCurveTo(this.size/2,-this.size/2,this.size,this.size/2,0,this.size);ctx.bezierCurveTo(-this.size,this.size/2,-this.size/2,-this.size/2,0,this.size/2);ctx.fillStyle=`rgba(255,105,180,${this.alpha})`;ctx.fill();ctx.restore();}update(){this.y+=this.speed;this.alpha-=0.002;}}function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);if(hearts.length<maxHearts&&Math.random()<0.05)hearts.push(new Heart());for(let i=hearts.length-1;i>=0;i--){const h=hearts[i];h.update();h.draw();if(h.alpha<=0)hearts.splice(i,1);}requestAnimationFrame(animate);}animate();}
    showSlide(1);
  </script>
</body>
</html>

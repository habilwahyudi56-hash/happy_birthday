<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kado Ulang Tahun</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    .slide {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      height: 100vh;
      padding: 20px;
      position: relative;
      z-index: 1;
    }
    .active {
      display: flex;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body class="relative flex items-center justify-center h-screen bg-gradient-to-br from-pink-200 via-purple-200 to-yellow-100">

  <!-- Canvas untuk love jatuh -->
  <canvas id="loveBackground" class="absolute top-0 left-0 w-full h-full z-0"></canvas>

  <div id="slides" class="relative z-10 w-full h-full flex flex-col items-center justify-center">

    <!-- Slide 1 -->
    <div class="slide active" id="slide1">
      <h1 class="text-3xl font-bold text-pink-700">Happy Birthday Sayangku ‚ù§Ô∏è</h1>
      <p class="mt-4 text-lg">Hari ini adalah hari spesialmu, semoga penuh kebahagiaan.</p>
      <button onclick="nextSlide()" class="mt-6 px-6 py-2 bg-pink-500 text-white rounded-full">Lanjut</button>
    </div>

    <!-- Slide 2 -->
    <div class="slide" id="slide2">
      <h1 class="text-3xl font-bold text-purple-700">Kamu adalah Hadiah Terindah üéÅ</h1>
      <p class="mt-4 text-lg">Setiap momen bersamamu adalah anugerah yang tak ternilai.</p>
      <button onclick="nextSlide()" class="mt-6 px-6 py-2 bg-purple-500 text-white rounded-full">Lanjut</button>
    </div>

    <!-- Slide 3 -->
    <div class="slide" id="slide3">
      <h1 class="text-3xl font-bold text-red-700">Aku Bersyukur Memilikimu üíï</h1>
      <p class="mt-4 text-lg">Kamu membuat hidupku lebih indah dan penuh warna.</p>
      <button onclick="nextSlide()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-full">Lanjut</button>
    </div>

    <!-- Slide 4 -->
    <div class="slide" id="slide4">
      <h1 class="text-3xl font-bold text-pink-600">Doa Terbaik Untukmu üåπ</h1>
      <p class="mt-4 text-lg">Semoga semua impianmu tercapai dan kebahagiaan selalu bersamamu.</p>
      <button onclick="nextSlide()" class="mt-6 px-6 py-2 bg-pink-600 text-white rounded-full">Lanjut</button>
    </div>

    <!-- Slide 5 -->
    <div class="slide" id="slide5">
      <h1 class="text-3xl font-bold text-yellow-600">Selamat Ulang Tahun Sayang üéÇ</h1>
      <img src="birthday-6_256.gif" alt="Birthday Cake" class="mt-6 w-40 h-40 cursor-pointer" onclick="nextSlide()"/>
      <p class="mt-4 text-lg">Semoga hari ini jadi hari paling indah untukmu.</p>
    </div>

    <!-- Slide 6 (Partikel Love) -->
    <div class="slide" id="slide6" style="background:black; color:white;">
      <canvas id="heartCanvas"></canvas>
    </div>
  </div>

  <script>
    let currentSlide = 1;
    function nextSlide() {
      document.getElementById(`slide${currentSlide}`).classList.remove("active");
      currentSlide++;
      if (currentSlide > 6) currentSlide = 1;
      document.getElementById(`slide${currentSlide}`).classList.add("active");

      if (currentSlide === 6) startHeartAnimation();
    }

    // Love jatuh di semua slide
    const canvasBg = document.getElementById("loveBackground");
    const ctxBg = canvasBg.getContext("2d");
    canvasBg.width = window.innerWidth;
    canvasBg.height = window.innerHeight;

    let fallingHearts = [];
    for (let i = 0; i < 40; i++) {
      fallingHearts.push({
        x: Math.random() * canvasBg.width,
        y: Math.random() * canvasBg.height,
        size: 10 + Math.random() * 20,
        speed: 0.5 + Math.random() * 1.5,
        color: "rgba(255,0,150,0.8)"
      });
    }

    function drawHeart(ctx, x, y, size, color) {
      ctx.save();
      ctx.translate(x, y);
      ctx.scale(size/20, size/20);
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.bezierCurveTo(-10, -10, -20, 10, 0, 20);
      ctx.bezierCurveTo(20, 10, 10, -10, 0, 0);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.restore();
    }

    function animateBackground() {
      ctxBg.clearRect(0, 0, canvasBg.width, canvasBg.height);
      fallingHearts.forEach(h => {
        drawHeart(ctxBg, h.x, h.y, h.size, h.color);
        h.y += h.speed;
        if (h.y > canvasBg.height + h.size) {
          h.y = -h.size;
          h.x = Math.random() * canvasBg.width;
        }
      });
      requestAnimationFrame(animateBackground);
    }
    animateBackground();

    window.addEventListener("resize", () => {
      canvasBg.width = window.innerWidth;
      canvasBg.height = window.innerHeight;
    });

    // Partikel membentuk LOVE di slide 6
    function startHeartAnimation() {
      const canvas = document.getElementById("heartCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let particles = [];
      const total = 800;
      const duration = 10000; // 10 detik

      function heartFunction(t) {
        let x = 16 * Math.pow(Math.sin(t), 3);
        let y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
        return {x, y};
      }

      let heartPoints = [];
      for (let i = 0; i < 360; i += 2) {
        let p = heartFunction(i * Math.PI / 180);
        heartPoints.push(p);
      }

      heartPoints = heartPoints.map(p => ({
        x: canvas.width/2 + p.x * 20,
        y: canvas.height/2 - p.y * 20
      }));

      for (let i = 0; i < total; i++) {
        let target = heartPoints[i % heartPoints.length];
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          tx: target.x,
          ty: target.y,
          size: 2 + Math.random() * 3,
          progress: 0
        });
      }

      const start = Date.now();
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        let elapsed = Date.now() - start;
        let t = Math.min(elapsed / duration, 1);

        particles.forEach(p => {
          p.progress = t;
          let x = p.x + (p.tx - p.x) * t;
          let y = p.y + (p.ty - p.y) * t;
          drawHeart(ctx, x, y, p.size*3, "red");
        });

        if (t < 1) requestAnimationFrame(animate);
      }
      animate();
    }
  </script>
</body>
</html>


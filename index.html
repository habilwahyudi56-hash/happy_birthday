<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kado Ulang Tahun</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    .fade {
      animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    /* canvas untuk love jatuh */
    #loveCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }
    #slides {
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body class="flex items-center justify-center h-screen bg-gradient-to-br from-pink-200 via-purple-200 to-yellow-100">

  <!-- Canvas untuk love jatuh -->
  <canvas id="loveCanvas"></canvas>

  <div id="slides" class="w-full h-full flex flex-col items-center justify-center">
    <!-- SLIDE 1 -->
    <div class="slide text-center space-y-4" id="slide1">
      <div class="bg-white shadow-xl rounded-2xl p-5 max-w-sm mx-auto">
        <h1 class="text-xl font-bold text-pink-600 mb-3">Hii pacarrkuu üíñ</h1>
        <p class="text-base text-gray-700 mb-1">aku punya sesuatuu nihh üéÅ</p>
        <p class="text-base text-gray-700 mb-3">penasarannn gakk? üòÜ</p>
        <button onclick="nextSlide()" class="px-4 py-2 bg-pink-500 text-white rounded-xl shadow hover:bg-pink-600 transition text-sm">
          Coba buka ‚û°Ô∏è
        </button>
      </div>
    </div>

    <!-- SLIDE 2 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide2">
      <img src="and1.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-pink-400 mb-3 w-48 sm:w-56 md:w-64"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text2" class="text-base font-semibold text-pink-700 mx-auto text-center"></p>
      </div>
      <button id="btn2" onclick="nextSlide()" 
              class="px-4 py-2 bg-purple-500 text-white rounded-xl shadow hover:bg-purple-600 transition text-sm hidden">
        Lanjutin yaa ‚û°Ô∏è
      </button>
    </div>

    <!-- SLIDE 3 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide3">
      <img src="and3.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-pink-400 mb-3 w-48 sm:w-56 md:w-64"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text3" class="text-base font-semibold text-purple-700 mx-auto text-center"></p>
      </div>
      <button id="btn3" onclick="nextSlide()" 
              class="px-4 py-2 bg-pink-500 text-white rounded-xl shadow hover:bg-pink-600 transition text-sm hidden">
        Lanjut, masih kuat kann? ‚û°Ô∏è
      </button>
    </div>

    <!-- SLIDE 4 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide4">
      <img src="and4.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-purple-400 mb-3 w-52 sm:w-60 md:w-72"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text4" class="text-base font-semibold text-pink-700 mx-auto text-center"></p>
      </div>
      <button id="btn4" onclick="nextSlide()" 
              class="px-4 py-2 bg-purple-500 text-white rounded-xl shadow hover:bg-purple-600 transition text-sm hidden">
        Terakhir nihh üéâ
      </button>
    </div>

    <!-- SLIDE 5 (GIF Kue Ulang Tahun) -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide5">
      <img src="birthday-6_256.gif" alt="Birthday Cake"
           class="rounded-2xl shadow-lg mb-3 w-64 sm:w-72 md:w-80 cursor-pointer"
           onclick="nextSlide()"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text5" class="text-lg font-bold text-pink-700 mx-auto text-center"></p>
      </div>
    </div>

    <!-- SLIDE 6 (Partikel Love bentuk hati) -->
    <div class="slide hidden flex flex-col items-center justify-center" id="slide6">
      <canvas id="heartCanvas" class="w-full h-full"></canvas>
    </div>
  </div>

  <script>
    let currentSlide = 1;
    const totalSlides = 6;

    function showSlide(n) {
      document.querySelectorAll(".slide").forEach((slide, index) => {
        slide.classList.add("hidden");
        if (index === n - 1) {
          slide.classList.remove("hidden");
          slide.classList.add("fade");
        }
      });
    }

    function nextSlide() {
      if (currentSlide < totalSlides) {
        currentSlide++;
        showSlide(currentSlide);
        if (currentSlide === 2) { i2 = 0; typeWriter2(); }
        if (currentSlide === 3) { i3 = 0; typeWriter3(); }
        if (currentSlide === 4) { i4 = 0; typeWriter4(); }
        if (currentSlide === 5) { i5 = 0; typeWriter5(); }
        if (currentSlide === 6) { startHeartParticles(); }
      }
    }

    // --- SLIDE 2 ---
    const text2 = "Kamuu kenall ini nggak? Inii pacarr akuu, diaa yang menemani aku dalam kondisi apapunn itu...";
    let i2 = 0;
    function typeWriter2() {
      const p = document.getElementById("text2");
      const btn = document.getElementById("btn2");
      if (i2 === 0) p.innerHTML = "";
      if (i2 < text2.length) {
        p.innerHTML += text2.charAt(i2);
        i2++;
        setTimeout(typeWriter2, 40);
      } else { btn.classList.remove("hidden"); }
    }

    // --- SLIDE 3 ---
    const text3 = "Lihat inii...... Lucu kann, wajahnya imutt, manisss...";
    let i3 = 0;
    function typeWriter3() {
      const p = document.getElementById("text3");
      const btn = document.getElementById("btn3");
      if (i3 === 0) p.innerHTML = "";
      if (i3 < text3.length) {
        p.innerHTML += text3.charAt(i3);
        i3++;
        setTimeout(typeWriter3, 40);
      } else { btn.classList.remove("hidden"); }
    }

    // --- SLIDE 4 ---
    const text4 = "Tapi tahu nggak sayang? Dari semua hal di dunia ini...";
    let i4 = 0;
    function typeWriter4() {
      const p = document.getElementById("text4");
      const btn = document.getElementById("btn4");
      if (i4 === 0) p.innerHTML = "";
      if (i4 < text4.length) {
        p.innerHTML += text4.charAt(i4);
        i4++;
        setTimeout(typeWriter4, 40);
      } else { btn.classList.remove("hidden"); }
    }

    // --- SLIDE 5 ---
    const text5 = "Selamat ulang tahun cintakuu üéÇüíñ Semoga semua harapanmu tercapai...";
    let i5 = 0;
    function typeWriter5() {
      const p = document.getElementById("text5");
      if (i5 === 0) p.innerHTML = "";
      if (i5 < text5.length) {
        p.innerHTML += text5.charAt(i5);
        i5++;
        setTimeout(typeWriter5, 40);
      }
    }

    // --- Love jatuh background ---
    const canvas = document.getElementById("loveCanvas");
    const ctx = canvas.getContext("2d");
    let hearts = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function drawHeart(x, y, size, color) {
      ctx.save();
      ctx.translate(x, y);
      ctx.scale(size/20, size/20);
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.bezierCurveTo(-10, -10, -20, 10, 0, 20);
      ctx.bezierCurveTo(20, 10, 10, -10, 0, 0);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.restore();
    }

    function initHearts() {
      hearts = [];
      for (let i = 0; i < 30; i++) {
        hearts.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height,
          size: 10+Math.random()*20,
          speed: 0.5+Math.random()*1.5,
          color: "rgba(255,0,100,0.8)"
        });
      }
    }

    function animateHearts() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      hearts.forEach(h => {
        drawHeart(h.x, h.y, h.size, h.color);
        h.y += h.speed;
        if (h.y > canvas.height + h.size) {
          h.y = -h.size;
          h.x = Math.random()*canvas.width;
        }
      });
      requestAnimationFrame(animateHearts);
    }

    initHearts();
    animateHearts();

    // --- SLIDE 6 Partikel Love bentuk hati ---
    function startHeartParticles() {
      const heartCanvas = document.getElementById("heartCanvas");
      const ctx2 = heartCanvas.getContext("2d");
      heartCanvas.width = window.innerWidth;
      heartCanvas.height = window.innerHeight;

      const particles = [];
      const heartPoints = [];
      const scale = 12;

      // generate points hati
      for (let t = 0; t < Math.PI*2; t += 0.1) {
        let x = scale * 16 * Math.pow(Math.sin(t), 3);
        let y = -scale * (13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t));
        heartPoints.push({x: x + heartCanvas.width/2, y: y + heartCanvas.height/2});
      }

      for (let i = 0; i < 500; i++) {
        particles.push({
          x: Math.random()*heartCanvas.width,
          y: Math.random()*heartCanvas.height,
          size: 2+Math.random()*3,
          color: "rgba(255,0,100,0.9)",
          target: heartPoints[Math.floor(Math.random()*heartPoints.length)]
        });
      }

      let progress = 0;
      function animate() {
        ctx2.clearRect(0, 0, heartCanvas.width, heartCanvas.height);
        progress += 0.01;
        if (progress > 1) progress = 1;

        particles.forEach(p => {
          p.x += (p.target.x - p.x)*0.02;
          p.y += (p.target.y - p.y)*0.02;
          ctx2.fillStyle = p.color;
          ctx2.beginPath();
          ctx2.arc(p.x, p.y, p.size, 0, Math.PI*2);
          ctx2.fill();
        });
        requestAnimationFrame(animate);
      }
      animate();
    }

    showSlide(currentSlide);
  </script>
</body>
</html>

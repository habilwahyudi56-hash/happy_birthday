<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kado Ulang Tahun</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    .fade { animation: fadeIn 0.8s ease-in-out; }
    @keyframes fadeIn { from {opacity:0; transform:scale(0.95);} to {opacity:1; transform:scale(1);} }

    /* Canvas untuk partikel */
    #loveCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      display: none;
      z-index: 50;
    }
  </style>
</head>
<body class="flex items-center justify-center h-screen bg-gradient-to-br from-pink-200 via-purple-200 to-yellow-100">

  <div id="slides" class="w-full h-full flex flex-col items-center justify-center">

    <!-- SLIDE 1 -->
    <div class="slide text-center space-y-4" id="slide1">
      <div class="bg-white shadow-xl rounded-2xl p-5 max-w-sm mx-auto">
        <h1 class="text-xl font-bold text-pink-600 mb-3">Hii pacarrkuu 💖</h1>
        <p class="text-base text-gray-700 mb-1">aku punya sesuatuu nihh 🎁</p>
        <p class="text-base text-gray-700 mb-3">penasarannn gakk? 😆</p>
        <button onclick="nextSlide()" class="px-4 py-2 bg-pink-500 text-white rounded-xl shadow hover:bg-pink-600 transition text-sm">
          Coba buka ➡️
        </button>
      </div>
    </div>

    <!-- SLIDE 2 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide2">
      <img src="and1.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-pink-400 mb-3 w-48 sm:w-56 md:w-64"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text2" class="text-base font-semibold text-pink-700 mx-auto text-center"></p>
      </div>
      <button id="btn2" onclick="nextSlide()" 
              class="px-4 py-2 bg-purple-500 text-white rounded-xl shadow hover:bg-purple-600 transition text-sm hidden">
        Lanjutin yaa ➡️
      </button>
    </div>

    <!-- SLIDE 3 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide3">
      <img src="and3.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-pink-400 mb-3 w-48 sm:w-56 md:w-64"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text3" class="text-base font-semibold text-purple-700 mx-auto text-center"></p>
      </div>
      <button id="btn3" onclick="nextSlide()" 
              class="px-4 py-2 bg-pink-500 text-white rounded-xl shadow hover:bg-pink-600 transition text-sm hidden">
        Lanjut, masih kuat kann? ➡️
      </button>
    </div>

    <!-- SLIDE 4 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide4">
      <img src="and4.jpg" alt="Foto Pacar"
           class="rounded-2xl border-2 border-purple-400 mb-3 w-52 sm:w-60 md:w-72"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text4" class="text-base font-semibold text-pink-700 mx-auto text-center"></p>
      </div>
      <button id="btn4" onclick="nextSlide()" 
              class="px-4 py-2 bg-purple-500 text-white rounded-xl shadow hover:bg-purple-600 transition text-sm hidden">
        Terakhir nihh 🎉
      </button>
    </div>

    <!-- SLIDE 5 -->
    <div class="slide hidden flex flex-col items-center space-y-4" id="slide5">
      <img src="birthday-6_256.gif" alt="Birthday Cake"
           onclick="showLoveCanvas()"
           class="rounded-2xl shadow-lg mb-3 w-64 sm:w-72 md:w-80 cursor-pointer"/>
      <div class="min-h-[200px] w-full max-w-xl px-3">
        <p id="text5" class="text-lg font-bold text-pink-700 mx-auto text-center"></p>
      </div>
      <p class="text-sm text-gray-600 animate-bounce">👉 Klik kuenyaa buat kejutan 🎂✨</p>
    </div>

  </div>

  <!-- CANVAS LOVE -->
  <canvas id="loveCanvas"></canvas>

  <script>
    let currentSlide = 1;
    const totalSlides = 5;

    function showSlide(n) {
      document.querySelectorAll(".slide").forEach((slide, index) => {
        slide.classList.add("hidden");
        if (index === n - 1) {
          slide.classList.remove("hidden");
          slide.classList.add("fade");
        }
      });
    }

    function nextSlide() {
      if (currentSlide < totalSlides) {
        currentSlide++;
        showSlide(currentSlide);
        if (currentSlide === 2) { i2=0; typeWriter2(); }
        if (currentSlide === 3) { i3=0; typeWriter3(); }
        if (currentSlide === 4) { i4=0; typeWriter4(); }
        if (currentSlide === 5) { i5=0; typeWriter5(); }
      }
    }

    // Typing teks (sama kayak versi kamu, gak diubah)
    const text2 = "Kamuu kenall ini nggak?..."; // isi sama kayak punyamu
    let i2=0; function typeWriter2(){const p=document.getElementById("text2");const btn=document.getElementById("btn2");if(i2===0)p.innerHTML="";if(i2<text2.length){p.innerHTML+=text2.charAt(i2);i2++;setTimeout(typeWriter2,40);}else{btn.classList.remove("hidden");}}

    const text3 = "Lihat inii...... Lucu kann,..."; 
    let i3=0; function typeWriter3(){const p=document.getElementById("text3");const btn=document.getElementById("btn3");if(i3===0)p.innerHTML="";if(i3<text3.length){p.innerHTML+=text3.charAt(i3);i3++;setTimeout(typeWriter3,40);}else{btn.classList.remove("hidden");setTimeout(()=>{fireConfetti();},500);}}

    const text4 = "Tapi tahu nggak sayang?..."; 
    let i4=0; function typeWriter4(){const p=document.getElementById("text4");const btn=document.getElementById("btn4");if(i4===0)p.innerHTML="";if(i4<text4.length){p.innerHTML+=text4.charAt(i4);i4++;setTimeout(typeWriter4,40);}else{btn.classList.remove("hidden");}}

    const text5 = "Selamat ulang tahun cintakuu 🎂💖 ..."; 
    let i5=0; function typeWriter5(){const p=document.getElementById("text5");if(i5===0)p.innerHTML="";if(i5<text5.length){p.innerHTML+=text5.charAt(i5);i5++;setTimeout(typeWriter5,40);}else{setTimeout(()=>{fireConfetti();},500);}}


    // Confetti
    function fireConfetti(){
      var end=Date.now()+1500;
      (function frame(){
        confetti({particleCount:5,angle:60,spread:55,origin:{x:0}});
        confetti({particleCount:5,angle:120,spread:55,origin:{x:1}});
        if(Date.now()<end){requestAnimationFrame(frame);}
      })();
    }

    showSlide(currentSlide);

    // --- SLIDE 6: Partikel LOVE ---
    function showLoveCanvas(){
      document.getElementById("slides").style.display="none";
      const canvas=document.getElementById("loveCanvas");
      const ctx=canvas.getContext("2d");
      canvas.style.display="block";
      canvas.width=window.innerWidth;
      canvas.height=window.innerHeight;

      const particles=[];
      const num=800;

      // buat partikel random
      for(let i=0;i<num;i++){
        particles.push({
          x:Math.random()*canvas.width,
          y:Math.random()*canvas.height,
          tx:0, ty:0, // target love
          size:2+Math.random()*2,
          speed:0.05+Math.random()*0.05
        });
      }

      // generate titik LOVE pakai persamaan parametris
      const heartPoints=[];
      for(let t=0;t<Math.PI*2;t+=0.05){
        let x=16*Math.pow(Math.sin(t),3);
        let y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
        heartPoints.push({x,y});
      }

      // scale dan pusatkan love
      heartPoints.forEach((p,i)=>{
        p.x=canvas.width/2 + p.x*20;
        p.y=canvas.height/2 - p.y*20;
        // assign target ke partikel
        if(particles[i]){
          particles[i].tx=p.x;
          particles[i].ty=p.y;
        }
      });

      function animate(){
        ctx.fillStyle="rgba(0,0,0,0.2)";
        ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="pink";
        particles.forEach(p=>{
          p.x += (p.tx - p.x)*p.speed;
          p.y += (p.ty - p.y)*p.speed;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
          ctx.fill();
        });
        requestAnimationFrame(animate);
      }
      animate();
    }
  </script>
</body>
</html>

